<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.Text?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.image.ImageView?>

<BorderPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="600.0" prefWidth="800.0" xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1" fx:controller="org.main.quiz.Controller">
    <top>
        <VBox alignment="CENTER" spacing="10" styleClass="header-section">
            <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
            <Label text="Quiz Master" styleClass="title-label">
                <font>
                    <Font name="System Bold" size="24"/>
                </font>
            </Label>
            <HBox spacing="10" alignment="CENTER">
                <Label text="Select Category:" />
                <ComboBox fx:id="categoryComboBox" prefWidth="150" />
                <Button fx:id="startButton" text="Start Quiz" onAction="#handleStartQuiz" styleClass="start-button" />
            </HBox>
            <HBox spacing="10" alignment="CENTER">
                <Label fx:id="scoreLabel" text="Score: 0/0" />
                <Label fx:id="timeLabel" text="Time: 0:00" />
            </HBox>
        </VBox>
    </top>
    
    <center>
        <StackPane fx:id="contentPane">
            <!-- Welcome Screen -->
            <VBox fx:id="welcomeScreen" alignment="CENTER" spacing="20">
                <Label text="Welcome to Quiz Master!" styleClass="welcome-label">
                    <font>
                        <Font size="22"/>
                    </font>
                </Label>
                <Text text="Select a category and press Start Quiz to begin." wrappingWidth="400"/>
                <ImageView fx:id="logoImageView" fitWidth="200" fitHeight="200" preserveRatio="true"/>
            </VBox>
            
            <!-- Question Screen -->
            <VBox fx:id="questionScreen" alignment="CENTER" spacing="20" visible="false">
                <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                
                <Label fx:id="questionNumberLabel" text="Question 1/10" styleClass="question-number"/>
                
                <Label fx:id="questionTextLabel" text="Question text goes here" wrapText="true" styleClass="question-text">
                    <font>
                        <Font size="18"/>
                    </font>
                </Label>
                
                <VBox fx:id="optionsBox" spacing="10" alignment="CENTER_LEFT">
                    <RadioButton fx:id="option1" text="Option 1" toggleGroup="$optionsGroup"/>
                    <RadioButton fx:id="option2" text="Option 2" toggleGroup="$optionsGroup"/>
                    <RadioButton fx:id="option3" text="Option 3" toggleGroup="$optionsGroup"/>
                    <RadioButton fx:id="option4" text="Option 4" toggleGroup="$optionsGroup"/>
                </VBox>
                
                <Button fx:id="submitButton" text="Submit Answer" onAction="#handleSubmitAnswer" styleClass="submit-button"/>
                
                <Label fx:id="feedbackLabel" text="" styleClass="feedback-label"/>
            </VBox>
            
            <!-- Results Screen -->
            <VBox fx:id="resultsScreen" alignment="CENTER" spacing="20" visible="false">
                <Label text="Quiz Results" styleClass="results-title">
                    <font>
                        <Font size="24"/>
                    </font>
                </Label>
                <Label fx:id="finalScoreLabel" text="Your score: 0/0" styleClass="final-score"/>
                <Label fx:id="timeSpentLabel" text="Time spent: 0:00" />
                <Button fx:id="newQuizButton" text="Start New Quiz" onAction="#handleNewQuiz" styleClass="new-quiz-button"/>
            </VBox>
        </StackPane>
    </center>
    
    <fx:define>
        <ToggleGroup fx:id="optionsGroup"/>
    </fx:define>
    
    <bottom>
        <HBox alignment="CENTER" spacing="10" styleClass="footer">
            <padding><Insets top="10" right="10" bottom="10" left="10"/></padding>
            <Label text="Â© 2023 Quiz Master" />
        </HBox>
    </bottom>
</BorderPane>
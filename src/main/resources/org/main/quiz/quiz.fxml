<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.Text?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.image.ImageView?>

<BorderPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="600.0" prefWidth="800.0" xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1" fx:controller="org.main.quiz.Controller">
    <top>
        <VBox alignment="CENTER" spacing="10" styleClass="header-section">
            <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
            <HBox alignment="CENTER" spacing="20">
                <Label text="Quiz Master" styleClass="title-label" HBox.hgrow="ALWAYS">
                    <font>
                        <Font name="System Bold" size="24"/>
                    </font>
                </Label>
                <Button fx:id="pauseButton" text="|| Pause" styleClass="pause-button" onAction="#handlePauseGame" visible="false" />
            </HBox>
        </VBox>
    </top>
    
    <center>
        <StackPane fx:id="contentPane">
            <VBox fx:id="startScreen" alignment="CENTER" spacing="20">
                <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                <Label text="Welcome to Quiz Master!" styleClass="welcome-label">
                    <font>
                        <Font size="22"/>
                    </font>
                </Label>
                <Text text="Enter your name, select a category and press Start Quiz to begin." wrappingWidth="400"/>
                <ImageView fx:id="logoImageView" fitWidth="150" fitHeight="150" preserveRatio="true"/>
                
                <VBox spacing="15" alignment="CENTER" styleClass="player-info-container">
                    <HBox spacing="10" alignment="CENTER">
                        <Label text="Player Name:" />
                        <TextField fx:id="playerNameField" prefWidth="200" promptText="Enter your name"/>
                    </HBox>
                    
                    <HBox spacing="10" alignment="CENTER">
                        <Label text="Select Category:" />
                        <ComboBox fx:id="categoryComboBox" prefWidth="200" />
                    </HBox>
                    
                    <Button fx:id="startButton" text="Start Quiz" onAction="#handleStartQuiz" styleClass="start-button" />
                </VBox>
            </VBox>
            
            <VBox fx:id="questionScreen" alignment="CENTER" spacing="20" visible="false">
                <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                
                <HBox spacing="20" alignment="CENTER">
                    <Label fx:id="playerDisplayLabel" text="Player: " styleClass="player-display"/>
                    <Label fx:id="scoreLabel" text="Score: 0/0" />
                    <Label fx:id="timeLabel" text="Time: 20" styleClass="question-timer"/>
                </HBox>
                
                <Label fx:id="questionNumberLabel" text="Question 1/10" styleClass="question-number"/>
                
                <Label fx:id="questionTextLabel" text="Question text goes here" wrapText="true" styleClass="question-text">
                    <font>
                        <Font size="18"/>
                    </font>
                </Label>
                
                <fx:define>
                    <ToggleGroup fx:id="optionsGroup"/>
                </fx:define>
                
                <VBox fx:id="optionsBox" spacing="10" alignment="CENTER_LEFT">
                    <RadioButton fx:id="option1" text="Option 1" toggleGroup="$optionsGroup"/>
                    <RadioButton fx:id="option2" text="Option 2" toggleGroup="$optionsGroup"/>
                    <RadioButton fx:id="option3" text="Option 3" toggleGroup="$optionsGroup"/>
                    <RadioButton fx:id="option4" text="Option 4" toggleGroup="$optionsGroup"/>
                </VBox>
                
                <HBox spacing="20" alignment="CENTER">
                    <Button fx:id="fiftyFiftyButton" text="50-50" onAction="#handleFiftyFifty" styleClass="lifeline-button"/>
                    <Button fx:id="askComputerButton" text="Ask Computer" onAction="#handleAskComputer" styleClass="lifeline-button"/>
                </HBox>
                
                <HBox spacing="20" alignment="CENTER">
                    <Button fx:id="previousButton" text="Previous" onAction="#handlePreviousQuestion" styleClass="previous-button"/>
                    <Button fx:id="nextButton" text="Next" onAction="#handleNextQuestion" styleClass="next-button"/>
                    <Button fx:id="submitButton" text="Submit Quiz" onAction="#handleSubmitQuiz" styleClass="submit-button"/>
                </HBox>
                
                <Label fx:id="feedbackLabel" text="" styleClass="feedback-label"/>
            </VBox>
            
            <VBox fx:id="resultsScreen" alignment="CENTER" spacing="20" visible="false">
                <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                <Label text="Quiz Results" styleClass="results-title">
                    <font>
                        <Font size="24"/>
                    </font>
                </Label>
                <Label fx:id="playerResultLabel" text="Player: " styleClass="player-result"/>
                <Label fx:id="finalScoreLabel" text="Your score: 0/0" styleClass="final-score"/>
                <Label fx:id="timeSpentLabel" text="Time spent: 0:00" />
                
                <ScrollPane fx:id="questionDetailsScrollPane" fitToWidth="true" maxHeight="250" minHeight="150" styleClass="question-details-scroll">
                    <VBox fx:id="questionDetailsContainer" spacing="10" styleClass="question-details-container">
                        <padding><Insets top="10" right="10" bottom="10" left="10"/></padding>
                    </VBox>
                </ScrollPane>
                
                <Button fx:id="newQuizButton" text="Start New Quiz" onAction="#handleNewQuiz" styleClass="new-quiz-button"/>
            </VBox>
            
            <StackPane fx:id="pauseOverlay" visible="false" styleClass="pause-overlay">
                <VBox fx:id="pauseMenu" alignment="CENTER" spacing="15" styleClass="pause-menu" maxWidth="400" maxHeight="500">
                    <Label text="GAME PAUSED" styleClass="pause-menu-title"/>
                    
                    <Button fx:id="resumeButton" text="Resume Game" onAction="#handleResumeGame" 
                            styleClass="pause-menu-button, resume-button"/>
                    
                    <Button fx:id="newGameButton" text="New Game" onAction="#handleNewGameFromPause" 
                            styleClass="pause-menu-button"/>
                    
                    <VBox alignment="CENTER" spacing="5" styleClass="credits-section">
                        <padding><Insets top="20" bottom="20"/></padding>
                        <Label text="Credits" styleClass="credits-title"/>
                        <Text text="Quiz Master Game" fill="white" styleClass="credits-text"/>
                        <Text text="Developed by: Armaan N" fill="white" styleClass="credits-text"/>
                        <Text text="Version: 2.0" fill="white" styleClass="credits-text"/>
                        <Text text="© 2023 Quiz Master" fill="white" styleClass="credits-text"/>
                    </VBox>
                    
                    <Button fx:id="exitButton" text="Exit Game" onAction="#handleExitGame" 
                            styleClass="pause-menu-button, exit-button"/>
                </VBox>
            </StackPane>
        </StackPane>
    </center>
    
    <bottom>
        <HBox alignment="CENTER" spacing="10" styleClass="footer">
            <padding><Insets top="10" right="10" bottom="10" left="10"/></padding>
            <Label text="© 2023 Quiz Master" />
        </HBox>
    </bottom>
</BorderPane>